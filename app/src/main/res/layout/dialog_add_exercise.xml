<?xml version="1.0" encoding="utf-8"?>
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto" android:layout_width="match_parent" android:layout_height="wrap_content" android:fillViewport="true">

    <LinearLayout android:layout_width="match_parent" android:layout_height="wrap_content" android:orientation="vertical" android:padding="24dp">

        <!-- Image Selection Section -->
        <TextView android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="@string/exercise_image" android:textSize="14sp" android:textStyle="bold" android:textColor="?attr/colorOnSurface" />

        <!-- Image Preview -->
        <FrameLayout android:layout_width="match_parent" android:layout_height="120dp" android:layout_marginTop="8dp">

            <com.google.android.material.card.MaterialCardView android:id="@+id/cardImagePreview" android:layout_width="match_parent" android:layout_height="match_parent" app:cardCornerRadius="12dp" app:cardElevation="2dp" app:strokeWidth="1dp" app:strokeColor="?attr/colorOutline">

                <ImageView android:id="@+id/ivExerciseImage" android:layout_width="match_parent" android:layout_height="match_parent" android:scaleType="centerCrop" android:visibility="gone" android:contentDescription="@string/exercise_image" />

                <LinearLayout android:id="@+id/llImagePlaceholder" android:layout_width="match_parent" android:layout_height="match_parent" android:gravity="center" android:orientation="vertical">

                    <ImageView android:layout_width="48dp" android:layout_height="48dp" android:src="@drawable/ic_image" app:tint="?attr/colorOnSurfaceVariant" android:alpha="0.5" android:contentDescription="@null" />

                    <TextView android:layout_width="wrap_content" android:layout_height="wrap_content" android:layout_marginTop="8dp" android:text="@string/tap_to_add_image" android:textColor="?attr/colorOnSurfaceVariant" android:textSize="12sp" />

                </LinearLayout>

            </com.google.android.material.card.MaterialCardView>

        </FrameLayout>

        <!-- Image Source Buttons -->
        <LinearLayout android:layout_width="match_parent" android:layout_height="wrap_content" android:layout_marginTop="8dp" android:orientation="horizontal">

            <com.google.android.material.button.MaterialButton android:id="@+id/btnTakePhoto" style="@style/Widget.Material3.Button.TonalButton" android:layout_width="0dp" android:layout_height="wrap_content" android:layout_weight="1" android:layout_marginEnd="4dp" android:text="@string/camera" app:icon="@drawable/ic_camera" app:iconGravity="textStart" />

            <com.google.android.material.button.MaterialButton android:id="@+id/btnPickImage" style="@style/Widget.Material3.Button.TonalButton" android:layout_width="0dp" android:layout_height="wrap_content" android:layout_weight="1" android:layout_marginStart="4dp" android:text="@string/gallery" app:icon="@drawable/ic_image" app:iconGravity="textStart" />

        </LinearLayout>

        <!-- Preset Exercise Images (from drawable resources) -->
        <TextView android:layout_width="wrap_content" android:layout_height="wrap_content" android:layout_marginTop="16dp" android:text="@string/or_choose_preset" android:textSize="12sp" android:textColor="?attr/colorOnSurfaceVariant" />

        <HorizontalScrollView android:layout_width="match_parent" android:layout_height="wrap_content" android:layout_marginTop="8dp" android:scrollbars="none">

            <LinearLayout android:layout_width="wrap_content" android:layout_height="wrap_content" android:orientation="horizontal">

                <com.google.android.material.card.MaterialCardView android:id="@+id/cardPreset1" android:layout_width="64dp" android:layout_height="64dp" android:layout_marginEnd="8dp" app:cardCornerRadius="8dp" app:strokeWidth="2dp" app:strokeColor="@android:color/transparent">

                    <ImageView android:layout_width="match_parent" android:layout_height="match_parent" android:scaleType="centerCrop" android:src="@drawable/ic_exercise_preset_workout" android:contentDescription="@string/preset_image" />

                </com.google.android.material.card.MaterialCardView>

                <com.google.android.material.card.MaterialCardView android:id="@+id/cardPreset2" android:layout_width="64dp" android:layout_height="64dp" android:layout_marginEnd="8dp" app:cardCornerRadius="8dp" app:strokeWidth="2dp" app:strokeColor="@android:color/transparent">

                    <ImageView android:layout_width="match_parent" android:layout_height="match_parent" android:scaleType="centerCrop" android:src="@drawable/ic_exercise_preset_person" android:contentDescription="@string/preset_image" />

                </com.google.android.material.card.MaterialCardView>

            </LinearLayout>

        </HorizontalScrollView>

        <!-- Emoji Fallback (Optional) -->
        <TextView android:layout_width="wrap_content" android:layout_height="wrap_content" android:layout_marginTop="16dp" android:text="@string/or_select_emoji" android:textSize="12sp" android:textColor="?attr/colorOnSurfaceVariant" />

        <HorizontalScrollView android:layout_width="match_parent" android:layout_height="wrap_content" android:layout_marginTop="8dp" android:scrollbars="none">

            <LinearLayout android:layout_width="wrap_content" android:layout_height="wrap_content" android:orientation="horizontal">

                <TextView android:id="@+id/emoji1" android:layout_width="48dp" android:layout_height="48dp" android:gravity="center" android:text="@string/emoji_muscle" android:textSize="24sp" android:background="?attr/selectableItemBackgroundBorderless" />

                <TextView android:id="@+id/emoji2" android:layout_width="48dp" android:layout_height="48dp" android:gravity="center" android:text="@string/emoji_running" android:textSize="24sp" android:background="?attr/selectableItemBackgroundBorderless" />

                <TextView android:id="@+id/emoji3" android:layout_width="48dp" android:layout_height="48dp" android:gravity="center" android:text="@string/emoji_cycling" android:textSize="24sp" android:background="?attr/selectableItemBackgroundBorderless" />

                <TextView android:id="@+id/emoji4" android:layout_width="48dp" android:layout_height="48dp" android:gravity="center" android:text="@string/emoji_yoga" android:textSize="24sp" android:background="?attr/selectableItemBackgroundBorderless" />

                <TextView android:id="@+id/emoji5" android:layout_width="48dp" android:layout_height="48dp" android:gravity="center" android:text="@string/emoji_swimming" android:textSize="24sp" android:background="?attr/selectableItemBackgroundBorderless" />

                <TextView android:id="@+id/emoji6" android:layout_width="48dp" android:layout_height="48dp" android:gravity="center" android:text="@string/emoji_lightning" android:textSize="24sp" android:background="?attr/selectableItemBackgroundBorderless" />

                <TextView android:id="@+id/emoji7" android:layout_width="48dp" android:layout_height="48dp" android:gravity="center" android:text="@string/emoji_target" android:textSize="24sp" android:background="?attr/selectableItemBackgroundBorderless" />

                <TextView android:id="@+id/emoji8" android:layout_width="48dp" android:layout_height="48dp" android:gravity="center" android:text="@string/emoji_fire" android:textSize="24sp" android:background="?attr/selectableItemBackgroundBorderless" />

            </LinearLayout>

        </HorizontalScrollView>

        <!-- Exercise Name -->
        <com.google.android.material.textfield.TextInputLayout android:id="@+id/tilExerciseName" style="@style/Widget.FitLife.TextInputLayout" android:layout_width="match_parent" android:layout_height="wrap_content" android:layout_marginTop="16dp" android:hint="@string/exercise_name">

            <com.google.android.material.textfield.TextInputEditText android:id="@+id/etExerciseName" android:layout_width="match_parent" android:layout_height="wrap_content" android:inputType="textCapSentences" android:maxLines="1" />

        </com.google.android.material.textfield.TextInputLayout>

        <!-- Sets and Reps -->
        <LinearLayout android:layout_width="match_parent" android:layout_height="wrap_content" android:layout_marginTop="16dp" android:orientation="horizontal" android:baselineAligned="false">

            <com.google.android.material.textfield.TextInputLayout android:id="@+id/tilSets" style="@style/Widget.FitLife.TextInputLayout" android:layout_width="0dp" android:layout_height="wrap_content" android:layout_weight="1" android:layout_marginEnd="8dp" android:hint="@string/sets">

                <com.google.android.material.textfield.TextInputEditText android:id="@+id/etSets" android:layout_width="match_parent" android:layout_height="wrap_content" android:inputType="number" android:text="@string/default_sets" />

            </com.google.android.material.textfield.TextInputLayout>

            <com.google.android.material.textfield.TextInputLayout android:id="@+id/tilReps" style="@style/Widget.FitLife.TextInputLayout" android:layout_width="0dp" android:layout_height="wrap_content" android:layout_weight="1" android:layout_marginStart="8dp" android:hint="@string/reps">

                <com.google.android.material.textfield.TextInputEditText android:id="@+id/etReps" android:layout_width="match_parent" android:layout_height="wrap_content" android:inputType="number" android:text="@string/default_reps" />

            </com.google.android.material.textfield.TextInputLayout>

        </LinearLayout>

        <!-- Instructions -->
        <com.google.android.material.textfield.TextInputLayout android:id="@+id/tilInstructions" style="@style/Widget.FitLife.TextInputLayout" android:layout_width="match_parent" android:layout_height="wrap_content" android:layout_marginTop="16dp" android:hint="@string/instructions">

            <com.google.android.material.textfield.TextInputEditText android:id="@+id/etInstructions" android:layout_width="match_parent" android:layout_height="wrap_content" android:inputType="textMultiLine" android:minLines="2" android:maxLines="4" />

        </com.google.android.material.textfield.TextInputLayout>

        <!-- Equipment Section -->
        <TextView android:layout_width="wrap_content" android:layout_height="wrap_content" android:layout_marginTop="16dp" android:text="@string/equipment" android:textSize="14sp" android:textStyle="bold" android:textColor="?attr/colorOnSurface" />

        <com.google.android.material.textfield.TextInputLayout android:id="@+id/tilEquipment" style="@style/Widget.FitLife.TextInputLayout" android:layout_width="match_parent" android:layout_height="wrap_content" android:layout_marginTop="8dp" android:hint="@string/equipment_name" app:endIconMode="custom" app:endIconDrawable="@drawable/ic_add">

            <com.google.android.material.textfield.TextInputEditText android:id="@+id/etEquipment" android:layout_width="match_parent" android:layout_height="wrap_content" android:inputType="textCapSentences" android:maxLines="1" />

        </com.google.android.material.textfield.TextInputLayout>

        <!-- Equipment Chips -->
        <com.google.android.material.chip.ChipGroup android:id="@+id/chipGroupEquipment" android:layout_width="match_parent" android:layout_height="wrap_content" android:layout_marginTop="8dp" />

    </LinearLayout>

</ScrollView>
